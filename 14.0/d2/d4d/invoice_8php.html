<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dolibarr: htdocs/takepos/invoice.php File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../dolibarr.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dolibarr
   &#160;<span id="projectnumber">14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d2/d4d/invoice_8php.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">invoice.php File Reference<div class="ingroups"><a class="el" href="../../d4/df2/group__takepos.html">Module TakePos</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Copyright (C) 2018 Andreu Bisquerra <a href="#" onclick="location.href='mai'+'lto:'+'jov'+'e@'+'bis'+'qu'+'err'+'a.'+'com'; return false;">jove@<span style="display: none;">.nosp@m.</span>bisq<span style="display: none;">.nosp@m.</span>uerra<span style="display: none;">.nosp@m.</span>.com</a> Copyright (C) 2021 Nicolas ZABOURI <a href="#" onclick="location.href='mai'+'lto:'+'inf'+'o@'+'ino'+'ve'+'a-c'+'on'+'sei'+'l.'+'com'; return false;">info@<span style="display: none;">.nosp@m.</span>inov<span style="display: none;">.nosp@m.</span>ea-co<span style="display: none;">.nosp@m.</span>nsei<span style="display: none;">.nosp@m.</span>l.com</a>  
<a href="#details">More...</a></p>

<p><a href="../../d2/d4d/invoice_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad552f45b15f566913e9aef5729e038a2"><td class="memItemLeft" align="right" valign="top">if(empty($<a class="el" href="../../d1/d2d/repair_8php.html#a4cdc6482e1eadf8310c3caef125018a0">user</a>-&gt;rights-&gt;takepos-&gt;run) &amp;&amp;!defined('INCLUDE_PHONEPAGE_FROM_PUBLIC_PAGE')) if((<a class="el" href="../../d9/d69/functions_8lib_8php.html#ad96c7958844635342850a570b5947af3">getDolGlobalString</a>('TAKEPOS_PHONE_BASIC_LAYOUT')==1 &amp;&amp; $<a class="el" href="../../d3/d71/support_2inc_8php.html#a035374e60b1b749f5bc6e5cda4749b6b">conf</a>-&gt;browser-&gt;layout=='phone')||defined('INCLUDE_PHONEPAGE_FROM_PUBLIC_PAGE'))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4d/invoice_8php.html#ad552f45b15f566913e9aef5729e038a2">fail</a> ($message)</td></tr>
<tr class="memdesc:ad552f45b15f566913e9aef5729e038a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort invoice creationg with a given error message.  <a href="../../d2/d4d/invoice_8php.html#ad552f45b15f566913e9aef5729e038a2">More...</a><br /></td></tr>
<tr class="separator:ad552f45b15f566913e9aef5729e038a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aac91cd8ebc149d3f5f098e2d7f468982"><td class="memItemLeft" align="right" valign="top"><a id="aac91cd8ebc149d3f5f098e2d7f468982"></a>
if(!defined('NOCSRFCHECK')) if(!defined('NOTOKENRENEWAL')) if(!defined('NOREQUIREMENU')) if(!defined('NOREQUIREHTML')) if(!defined('NOREQUIREAJAX'))&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (!defined( 'INCLUDE_PHONEPAGE_FROM_PUBLIC_PAGE'))</td></tr>
<tr class="separator:aac91cd8ebc149d3f5f098e2d7f468982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78734363079600a4c1b2e04fe67fe10"><td class="memItemLeft" align="right" valign="top"><a id="ae78734363079600a4c1b2e04fe67fe10"></a>
global&#160;</td><td class="memItemRight" valign="bottom"><b>$mysoc</b></td></tr>
<tr class="separator:ae78734363079600a4c1b2e04fe67fe10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae97941710d863131c700f069b109991e"><td class="memItemLeft" align="right" valign="top"><a id="ae97941710d863131c700f069b109991e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$id</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('id', 'int')</td></tr>
<tr class="separator:ae97941710d863131c700f069b109991e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa698a3e72116e8e778be0e95d908ee30"><td class="memItemLeft" align="right" valign="top"><a id="aa698a3e72116e8e778be0e95d908ee30"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$action</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>', 'aZ09')</td></tr>
<tr class="separator:aa698a3e72116e8e778be0e95d908ee30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7624e8edf01e7fcfc8d929c94996cb25"><td class="memItemLeft" align="right" valign="top"><a id="a7624e8edf01e7fcfc8d929c94996cb25"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$idproduct</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('idproduct', 'int')</td></tr>
<tr class="separator:a7624e8edf01e7fcfc8d929c94996cb25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a9af8f9cebd41cfad148cb846dee984"><td class="memItemLeft" align="right" valign="top"><a id="a8a9af8f9cebd41cfad148cb846dee984"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$place</b> = (<a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('place', 'aZ09') ? <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('place', 'aZ09') : 0)</td></tr>
<tr class="separator:a8a9af8f9cebd41cfad148cb846dee984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4031add68b846a4c83c46902b705076"><td class="memItemLeft" align="right" valign="top"><a id="ad4031add68b846a4c83c46902b705076"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$placeid</b> = 0</td></tr>
<tr class="separator:ad4031add68b846a4c83c46902b705076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b649fd4bc5bd3d48575e2059dd93fb8"><td class="memItemLeft" align="right" valign="top"><a id="a1b649fd4bc5bd3d48575e2059dd93fb8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$number</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('number', 'alpha')</td></tr>
<tr class="separator:a1b649fd4bc5bd3d48575e2059dd93fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99626314de2ac8be26977098e343cd2e"><td class="memItemLeft" align="right" valign="top"><a id="a99626314de2ac8be26977098e343cd2e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$idline</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('idline', 'int')</td></tr>
<tr class="separator:a99626314de2ac8be26977098e343cd2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed1faeb92c2d7430effd7fb2d64de0c"><td class="memItemLeft" align="right" valign="top"><a id="a0ed1faeb92c2d7430effd7fb2d64de0c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$selectedline</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('selectedline', 'int')</td></tr>
<tr class="separator:a0ed1faeb92c2d7430effd7fb2d64de0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31059b9e4d0c5af34df20da32232ea9a"><td class="memItemLeft" align="right" valign="top"><a id="a31059b9e4d0c5af34df20da32232ea9a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$desc</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('desc', 'alphanohtml')</td></tr>
<tr class="separator:a31059b9e4d0c5af34df20da32232ea9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23479d7636d9d17ae761d991601ae19"><td class="memItemLeft" align="right" valign="top"><a id="ad23479d7636d9d17ae761d991601ae19"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$pay</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('pay', 'aZ09')</td></tr>
<tr class="separator:ad23479d7636d9d17ae761d991601ae19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a883451a719310d04250b4d6bca8e2e58"><td class="memItemLeft" align="right" valign="top"><a id="a883451a719310d04250b4d6bca8e2e58"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$amountofpayment</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a34644574d03047e0104710288a28ac91">price2num</a>(<a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('amount', 'alpha'))</td></tr>
<tr class="separator:a883451a719310d04250b4d6bca8e2e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4f2a9b4dbdddc3dde004953d4f83e3"><td class="memItemLeft" align="right" valign="top"><a id="a9a4f2a9b4dbdddc3dde004953d4f83e3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$invoiceid</b> = <a class="el" href="../../d9/d69/functions_8lib_8php.html#a97dc8c4d4db97a060f48e220a1f9f293">GETPOST</a>('invoiceid', 'int')</td></tr>
<tr class="separator:a9a4f2a9b4dbdddc3dde004953d4f83e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45710b884d3f1a481077a9aeed6d0c53"><td class="memItemLeft" align="right" valign="top"><a id="a45710b884d3f1a481077a9aeed6d0c53"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$paycode</b> = $pay</td></tr>
<tr class="separator:a45710b884d3f1a481077a9aeed6d0c53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d84436477cdd4e7d1a8ad499310ccc"><td class="memItemLeft" align="right" valign="top"><a id="aa5d84436477cdd4e7d1a8ad499310ccc"></a>
if($pay=='cash') if($pay=='card') if($pay=='cheque')&#160;</td><td class="memItemRight" valign="bottom"><b>$paiementid</b> = 0</td></tr>
<tr class="separator:aa5d84436477cdd4e7d1a8ad499310ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d96728542bcb1f585fcc87426d94544"><td class="memItemLeft" align="right" valign="top"><a id="a8d96728542bcb1f585fcc87426d94544"></a>
if($paycode)&#160;</td><td class="memItemRight" valign="bottom"><b>$invoice</b> = new <a class="el" href="../../d3/d75/class_facture.html">Facture</a>($<a class="el" href="../../d3/d71/support_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>)</td></tr>
<tr class="separator:a8d96728542bcb1f585fcc87426d94544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b39608a01caf8e6e1a67f86e2ce2d5"><td class="memItemLeft" align="right" valign="top">if($invoiceid &gt; 0)&#160;</td><td class="memItemRight" valign="bottom"><b>else</b></td></tr>
<tr class="separator:ad8b39608a01caf8e6e1a67f86e2ce2d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a9f32aed26fbee0c04033b598fb28a0"><td class="memItemLeft" align="right" valign="top"><a id="a2a9f32aed26fbee0c04033b598fb28a0"></a>
if($ret &gt; 0)&#160;</td><td class="memItemRight" valign="bottom"><b>$constforcompanyid</b> = 'CASHDESK_ID_THIRDPARTY'.$_SESSION[&quot;takeposterminal&quot;]</td></tr>
<tr class="separator:a2a9f32aed26fbee0c04033b598fb28a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617e97648fbb5e62842289b93c7dcf83"><td class="memItemLeft" align="right" valign="top"><a id="a617e97648fbb5e62842289b93c7dcf83"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$soc</b> = new <a class="el" href="../../dc/dbc/class_societe.html">Societe</a>($<a class="el" href="../../d3/d71/support_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>)</td></tr>
<tr class="separator:a617e97648fbb5e62842289b93c7dcf83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf6442752fa8db328f55bb93f20ae453"><td class="memItemLeft" align="right" valign="top"><a id="aaf6442752fa8db328f55bb93f20ae453"></a>
if(!empty($<a class="el" href="../../d3/d71/support_2inc_8php.html#a035374e60b1b749f5bc6e5cda4749b6b">conf</a>-&gt;multicurrency-&gt;enabled) &amp;&amp;!empty($_SESSION[&quot;takeposcustomercurrency&quot;])) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>=='valid' &amp;&amp; $<a class="el" href="../../d1/d2d/repair_8php.html#a4cdc6482e1eadf8310c3caef125018a0">user</a>-&gt;rights-&gt;facture-&gt;creer) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>=='creditnote' &amp;&amp; $<a class="el" href="../../d1/d2d/repair_8php.html#a4cdc6482e1eadf8310c3caef125018a0">user</a>-&gt;rights-&gt;facture-&gt;creer) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>=='history'|| $<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>=='creditnote') if(($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;addline&quot;|| $action==&quot;freezone&quot;) &amp;&amp; $placeid==0) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;addline&quot;) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;freezone&quot;) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;addnote&quot;) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;deleteline&quot;) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;delete&quot;) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;updateqty&quot;) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;updateprice&quot;) if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;updatereduction&quot;) elseif($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>=='update_reduction_global') if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;order&quot; and $placeid !=0)&#160;</td><td class="memItemRight" valign="bottom"><b>$sectionwithinvoicelink</b> = ''</td></tr>
<tr class="separator:aaf6442752fa8db328f55bb93f20ae453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802cfdac8571b10645562b6927d2be88"><td class="memItemLeft" align="right" valign="top"><a id="a802cfdac8571b10645562b6927d2be88"></a>
if($<a class="el" href="../../d2/d70/opensurvey_2card_8php.html#a82cf69049d915b9d194d673879d601ff">action</a>==&quot;valid&quot;|| $action==&quot;history&quot;|| $action=='creditnote')&#160;</td><td class="memItemRight" valign="bottom"><b>$form</b> = new <a class="el" href="../../df/d08/class_form.html">Form</a>($<a class="el" href="../../d3/d71/support_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>)</td></tr>
<tr class="separator:a802cfdac8571b10645562b6927d2be88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b05cf2e02ef0b67fcad97106dd7634"><td class="memItemLeft" align="right" valign="top"><a id="a50b05cf2e02ef0b67fcad97106dd7634"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$s</b> = $langs-&gt;trans(&quot;Customer&quot;)</td></tr>
<tr class="separator:a50b05cf2e02ef0b67fcad97106dd7634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a047170d6020a882807665812a27e2525"><td class="memItemLeft" align="right" valign="top"><a id="a047170d6020a882807665812a27e2525"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$sql</b> = &quot;SELECT <a class="el" href="../../d0/d79/email__expire__services__to__representatives_8php.html#a3b8599f7f8e6a43f702bd88ffd580aeb">rowid</a>, datec, ref FROM &quot;.MAIN_DB_PREFIX.&quot;facture&quot;</td></tr>
<tr class="separator:a047170d6020a882807665812a27e2525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6adc5ef389ab51c21dee69262018d615"><td class="memItemLeft" align="right" valign="top"><a id="a6adc5ef389ab51c21dee69262018d615"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$resql</b> = $<a class="el" href="../../d3/d71/support_2inc_8php.html#ac5c9be6a1c1e82d353381986a8e859b6">db</a>-&gt;query($sql)</td></tr>
<tr class="separator:a6adc5ef389ab51c21dee69262018d615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0dddde40a42f8a2427dd0b34f35bcfa"><td class="memItemLeft" align="right" valign="top"><a id="ab0dddde40a42f8a2427dd0b34f35bcfa"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$constantforkey</b> = 'CASHDESK_NO_DECREASE_STOCK'.$_SESSION[&quot;takeposterminal&quot;]</td></tr>
<tr class="separator:ab0dddde40a42f8a2427dd0b34f35bcfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e0037c7d4ed3580ddcb5217a5172abe"><td class="memItemLeft" align="right" valign="top"><a id="a6e0037c7d4ed3580ddcb5217a5172abe"></a>
INCLUDE_PHONEPAGE_FROM_PUBLIC_PAGE&lt; img class=&quot;imgwrapper&quot; width=&quot;33%&quot; src=&quot;'.DOL_URL_ROOT.'/takepos/public/auto_order.php?genimg=cat&amp;query=cat&amp;id='.$row['id'].'&quot;&gt;&lt; br &gt;&lt; td class=&quot;left&quot;&gt; label INCLUDE_PHONEPAGE_FROM_PUBLIC_PAGE&lt;/div &gt;&lt;/td &gt;&lt;/tr &gt;&lt;/table &gt;&lt;/table &gt; categories class categorie class php catid int INCLUDE_PHONEPAGE_FROM_PUBLIC_PAGE&lt; div class=&quot;leftcat'; } <a class="el" href="../../de/d3e/notice_8php.html#a0eb288c128ae77af93b5255dacf15595">else</a> { $htmlforlines .= '&lt;tr class=&quot;drag drop oddeven posinvoiceline';} $htmlforlines .='&quot; onclick=&quot;AddProduct(\''. $place.'\', '. $row-&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>id</b></td></tr>
<tr class="separator:a6e0037c7d4ed3580ddcb5217a5172abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b9a226b5f310a79b2c8eb8bbf0855df"><td class="memItemLeft" align="right" valign="top"><a id="a9b9a226b5f310a79b2c8eb8bbf0855df"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>$htmlforlines</b> = $row-&gt;label</td></tr>
<tr class="separator:a9b9a226b5f310a79b2c8eb8bbf0855df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16b04f43375950ee49f72a54de505fc1"><td class="memItemLeft" align="right" valign="top"><a id="a16b04f43375950ee49f72a54de505fc1"></a>
if(!empty($<a class="el" href="../../d3/d71/support_2inc_8php.html#a035374e60b1b749f5bc6e5cda4749b6b">conf</a>-&gt;global-&gt;TAKEPOS_SHOW_HT))&#160;</td><td class="memItemRight" valign="bottom"><b>print</b></td></tr>
<tr class="separator:a16b04f43375950ee49f72a54de505fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (C) 2018 Andreu Bisquerra <a href="#" onclick="location.href='mai'+'lto:'+'jov'+'e@'+'bis'+'qu'+'err'+'a.'+'com'; return false;">jove@<span style="display: none;">.nosp@m.</span>bisq<span style="display: none;">.nosp@m.</span>uerra<span style="display: none;">.nosp@m.</span>.com</a> Copyright (C) 2021 Nicolas ZABOURI <a href="#" onclick="location.href='mai'+'lto:'+'inf'+'o@'+'ino'+'ve'+'a-c'+'on'+'sei'+'l.'+'com'; return false;">info@<span style="display: none;">.nosp@m.</span>inov<span style="display: none;">.nosp@m.</span>ea-co<span style="display: none;">.nosp@m.</span>nsei<span style="display: none;">.nosp@m.</span>l.com</a> </p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.</p>
<p>Page to generate section with list of lines </p>

<p class="definition">Definition in file <a class="el" href="../../d2/d4d/invoice_8php_source.html">invoice.php</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad552f45b15f566913e9aef5729e038a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad552f45b15f566913e9aef5729e038a2">&#9670;&nbsp;</a></span>fail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if (empty( $<a class="el" href="../../d1/d2d/repair_8php.html#a4cdc6482e1eadf8310c3caef125018a0">user</a>-&gt;rights-&gt;takepos-&gt;run) &amp;&amp;!defined( 'INCLUDE_PHONEPAGE_FROM_PUBLIC_PAGE')) if ((<a class="el" href="../../d9/d69/functions_8lib_8php.html#ad96c7958844635342850a570b5947af3">getDolGlobalString</a>( 'TAKEPOS_PHONE_BASIC_LAYOUT')==1 &amp;&amp;$<a class="el" href="../../d3/d71/support_2inc_8php.html#a035374e60b1b749f5bc6e5cda4749b6b">conf</a>-&gt;browser-&gt;layout=='phone')||defined( 'INCLUDE_PHONEPAGE_FROM_PUBLIC_PAGE')) fail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort invoice creationg with a given error message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$message</td><td>Message explaining the error to the user </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d4d/invoice_8php_source.html#l00108">108</a> of file <a class="el" href="../../d2/d4d/invoice_8php_source.html">invoice.php</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad8b39608a01caf8e6e1a67f86e2ce2d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8b39608a01caf8e6e1a67f86e2ce2d5">&#9670;&nbsp;</a></span>else</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if ( $mobilepage==&quot;places&quot;) if ( $placeid &gt; 0) else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div>
<div class="line">    $ret = $invoice-&gt;fetch(<span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;(PROV-POS&#39;</span>.$_SESSION[<span class="stringliteral">&quot;takeposterminal&quot;</span>].<span class="charliteral">&#39;-&#39;</span>.$place.<span class="charliteral">&#39;)&#39;</span>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d2/d4d/invoice_8php_source.html#l00154">154</a> of file <a class="el" href="../../d2/d4d/invoice_8php_source.html">invoice.php</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- 
File added into doxygen generated documentation
-->
<hr class="footer" />
<address class="footer"><small>Generated on Tue Oct 19 2021 23:00:26 for <a href="https://www.dolibarr.org" title="ERP and CRM open source software">Dolibarr</a> by Doxygen 1.8.17 </small></address>
<br>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-9049390-16"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-9049390-16');
</script>
</body>
</html>